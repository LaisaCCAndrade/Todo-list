<ion-header>
  <ion-toolbar>
    <ion-title>Lista de Tarefas</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/todos/add" fill="clear">
        <ion-icon name="add" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="background-container">

    <ion-grid>
      <!-- Verifica se a lista de tarefas está vazia -->
      <ion-row *ngIf="todos.length === 0">
        <ion-col size="12">
          <ion-card>
            <ion-card-content>
              <ion-button fill="clear" routerLink="/todos/add" class="create-task-button no-border">
                Crie uma tarefa
              </ion-button>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <!-- Exibe as tarefas quando houver alguma -->
      <ion-row *ngIf="todos.length > 0">
        <ion-col size="12" size-md="6" size-lg="4" *ngFor="let todo of todos">
          <ion-card>
            <!-- Exibe o título da tarefa -->
            <ion-card-header>
              <ion-card-title>{{ todo.title }}</ion-card-title>
              <!-- Mostra o checkbox apenas se isCompleted for true -->
              <ion-checkbox *ngIf="todo.isCompleted" checked="true"></ion-checkbox>
            </ion-card-header>
            <!-- Exibe a imagem e a descrição da tarefa -->
            <ion-card-content>
              <p>{{ todo.description }}</p>
              <ion-img src="../../assets/icon/todo.jpeg" alt="Imagem da Tarefa" class="todo-img"></ion-img>
            </ion-card-content>
            <!-- Adicionando rodapé diretamente aqui -->
            <div class="card-footer">
              <ion-button (click)="deleteTodo(todo.id)" class="trash-button">
                <ion-icon name="trash"></ion-icon>
              </ion-button>
              <ion-button (click)="openEditModal(todo)" class="edit-button">
                <ion-icon name="pencil"></ion-icon>
              </ion-button>
            </div>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
